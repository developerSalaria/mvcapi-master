@using Newtonsoft.Json;
@using TPA.Common.Core.Model;
@model RoleViewModel
@{
    ViewBag.Title = "RoleManager";
    Layout = null;
}

<div class="kt-portlet kt-portlet--mobile pea-page">
    <div class="kt-portlet__head" style="background: #F35869 !important;min-height:42px;border-radius:4px;">
        <div class="kt-portlet__head-label">
            <span class="kt-portlet__head-icon">
                <i class="fas fa-user text-white"></i>
            </span>
            <h3 class="kt-portlet__head-title text-white">
                @*@ViewBag.headerTitle*@
                Add New Role
            </h3>
        </div>
    </div>
    <form id="addNewRole">
        <div class="kt-portlet__body">
            @Html.HiddenFor(m => m.Id, new { @class = "form-control kt-input", id = "txtRoleId" })
            <div class="row">
                <div class="col-lg-12">
                    <div class="row kt-margin-b-20">
                        <div class="col-lg-12 kt-margin-b-10">
                            <label style="font-weight:700">Name :</label>
                            @Html.TextBoxFor(m => m.Name, new { @class = "form-control kt-input", id = "txtRoleName", required = "required" })
                        </div>

                        <div class="col-m-3 kt-margin-t-20">
                            @*@if (Model.Id == 0)
                                {*@
                            <button class="text-white btn  btn-primary ml-3" id="btnSaveRole"><i class="fas fa-save"></i>Save</button>
                            <button class="btn text-white ml-3" data-dismiss="modal" aria-label="Close" style="background-color:red;"><i class="fas fa-window-close"></i>Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
<script type="text/javascript">
    $("#btnSaveRole").on("click", function () {
            $.ajax({
                type: 'Post',
                url: '@Url.Action("AddEditRole", "RoleManager")',
                data: provider = {
                    id: $("#txtRoleId").val(),
                    name: $("#txtRoleName").val(),
                },
                success: function (data) {
                    $("#txtRoleName").val(""),
                        swal.fire({
                            title: "Saved Successfully!",
                            type: "success"
                        }).then(function () {
                            window.location.href = '/RoleManager/List'
                        });
                }
            })

                    });
</script>








