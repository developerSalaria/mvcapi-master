@{
    ViewBag.Title = "customersInsured";
}
<style>
    #customerInsuredTable_filter {
        float: right !important;
    }

        #customerInsuredTable_filter input {
            width: 207px !important;
        }
</style>
<div class="kt-portlet kt-portlet--mobile pea-page" style="box-shadow: 5px 5px 15px 5px rgba(0,0,0,0.35);" id="customerInsured">
    <div class="kt-portlet__head" style="background: #F35869 !important;min-height:32px;border-radius:4px;">
        <div class="kt-portlet__head-label">
            <span class="kt-portlet__head-icon">
                <i class="fas fa-user text-white"></i>
            </span>
            <h3 class="kt-portlet__head-title text-white" style="font-size:17px !important;">
                Customers Insured
            </h3>
        </div>
    </div>
    <div class="kt-portlet__body">
        <div id="kt_table_1_wrapper" class="dataTables_wrapper dt-bootstrap4">
            <div class="row">
                <div class="col-sm-12" id="customerInsuredListDiv">
                    <table class="table table-striped table-bordered table-hover table-checkable" id="customerInsuredTable">
                        <thead>
                            <tr style="background-color: #22b9ff;">
                                <th style="color:#fff" data-field="Name">Name</th>
                                <th style="color:#fff" data-field="ContactNo">Contact No</th>
                                <th style="color:#fff" data-field="EmailId">Email ID</th>
                                <th style="color:#fff" data-field="Location">Location</th>
                                <th style="color:#fff" data-field="LastModified">Last Modified</th>
                                <th style="color:#fff;width:278px !important" data-field="Actions">Actions</th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>



@section scripts
    {
    @Scripts.Render("~/Scripts/Datatable/Datatable/datatables.min.js")
    <script>
    $('#customerInsuredTable').DataTable({
                    "processing": true, // for show progress bar
                    //"serverSide": true, // for process server side
                    "bfilter": true, // this is for disable filter (search box)
                    "orderMulti": false, // for disable multiple column at once
                    "language": {
                        "loadingRecords": "&nbsp;",
                        "sProcessing": "<i class='fas fa-spinner fa-2x text-success fa-spin'></i>",
                        "emptyTable": "No data available in table",
                        "info": "Showing _START_ to _END_ of _TOTAL_ entries",
                        "infoEmpty": "Showing 0 to 0 of 0 entries",
                        "infoFiltered": "(filtered from _MAX_ total entries)",
                        "infoPostFix": "",
                        "thousands": ",",
                        "lengthMenu": "Show _MENU_ entries",
                        "loadingRecords": "Loading...",
                        "processing": "Processing...",
                        "search": "Search:",
                        "zeroRecords": "No matching records found",
                        "paginate": {
                            "first": "First",
                            "last": "Last",
                            "next": "Next",
                            "previous": "Previous"
                        },
                        "aria": {
                            "sortAscending": ": activate to sort column ascending",
                            "sortDescending": ": activate to sort column descending"
                        }
                    },
                    "bDestroy": true,
                    "ajax": {
                        "url": "@Url.Action("GetCustomersInsured", "Customers")",
                    },
                    "columns": [

                        { "data": "Name", "name": "Name", "autoWidth": true },
                        { "data": "ContactNo", "name": "ContactNo", "autoWidth": true },
                        { "data": "EmailId", "name": "EmailId", "autoWidth": true },
                        { "data": "Location", "name": "Location", "autoWidth": true },
                         {
                            "data": "LastModified", "name": "LastModified", "type": "Date", "autoWidth": true, render: function (data, type, row) {
                                return moment(row.LastModified).format("LL")
                            }
                        },
                           {
                        "data": "Actions", "orderable": false, "autoWidth": false, "render": function (data, type, row) {
                                   return `<button type="button" class="btn btn-sm btn-primary">Contracts</button>
                                           <button type="button" class="btn btn-sm btn-primary">Employees</button>
                                <button type = "button" class="btn btn-sm btn-secondary btn-icon"><i class="flaticon-edit"></i></button>
                                    <button type="button" class="btn btn-sm btn-danger btn-icon"><i class="flaticon-delete"></i></button>`;
                        }
                    }
                    ],
                    "initComplete": function () {
                        $('[data-toggle="tooltip"]').tooltip();

                    }
                }).on('draw', function () {
                    $('[data-toggle="tooltip"]').tooltip();
                });
    </script>
    
}


